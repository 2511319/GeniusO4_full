/* Comprehensive Dark Theme Fix for Cryptocurrency Analysis Application */

/* Global dark theme enforcement */
html, body, #root {
  background-color: #131722 !important;
  color: #d1d4dc !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif !important;
}

/* Material-UI Paper and Card components */
.MuiPaper-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border: 1px solid #2a2e39 !important;
}

.MuiCard-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border: 1px solid #2a2e39 !important;
}

/* Fix for white text on white background in comment sections */
.MuiBox-root[sx*="bgcolor: 'grey.100'"],
.MuiBox-root[sx*="bgcolor: grey.100"],
[style*="background-color: grey.100"],
[style*="bgcolor: grey.100"] {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border: 1px solid #2a2e39 !important;
}

/* Typography fixes */
.MuiTypography-root {
  color: #d1d4dc !important;
}

.MuiTypography-body2 {
  color: #d1d4dc !important;
}

/* Accordion fixes */
.MuiAccordion-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border: 1px solid #2a2e39 !important;
}

.MuiAccordionSummary-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

.MuiAccordionDetails-root {
  background-color: #131722 !important;
  color: #d1d4dc !important;
}

/* Input and form fixes */
.MuiInputBase-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border-color: #2a2e39 !important;
}

.MuiInputLabel-root {
  color: #9aa0a6 !important;
}

.MuiOutlinedInput-notchedOutline {
  border-color: #2a2e39 !important;
}

/* Button fixes */
.MuiButton-root {
  color: #d1d4dc !important;
  border-color: #2a2e39 !important;
}

.MuiButton-root:hover {
  background-color: #434651 !important;
}

/* Table fixes */
.MuiTableContainer-root {
  background-color: #1e222d !important;
}

.MuiTable-root {
  background-color: #1e222d !important;
}

.MuiTableCell-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border-color: #2a2e39 !important;
}

.MuiTableHead-root .MuiTableCell-root {
  background-color: #2a2e39 !important;
  color: #d1d4dc !important;
}

/* Chip fixes */
.MuiChip-root {
  background-color: #2a2e39 !important;
  color: #d1d4dc !important;
}

/* Menu and dropdown fixes */
.MuiMenu-paper {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border: 1px solid #2a2e39 !important;
}

.MuiMenuItem-root {
  color: #d1d4dc !important;
}

.MuiMenuItem-root:hover {
  background-color: #2a2e39 !important;
}

/* Container fixes */
.MuiContainer-root {
  background-color: #131722 !important;
  color: #d1d4dc !important;
}

.MuiGrid-root {
  background-color: transparent !important;
  color: #d1d4dc !important;
}

/* Aggressive fixes for elements with inline white backgrounds */
[style*="background-color: white"],
[style*="background-color: #ffffff"],
[style*="background-color: #fff"],
[style*="background: white"],
[style*="background: #ffffff"],
[style*="background: #fff"],
[style*="background-color: rgb(255, 255, 255)"] {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

/* Fix for nested elements with white backgrounds */
[style*="background-color: white"] *:not(svg):not(path),
[style*="background-color: #ffffff"] *:not(svg):not(path),
[style*="background-color: #fff"] *:not(svg):not(path),
[style*="background: white"] *:not(svg):not(path),
[style*="background: #ffffff"] *:not(svg):not(path),
[style*="background: #fff"] *:not(svg):not(path) {
  background-color: inherit !important;
  color: inherit !important;
}

/* Chart-specific fixes */
.chart-panels {
  background-color: #131722 !important;
}

.legend {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
  border-bottom: 1px solid #2a2e39 !important;
}

.legend-item {
  color: #d1d4dc !important;
}

.chart {
  background-color: #131722 !important;
}

.chart-panel {
  background-color: #131722 !important;
  border-top: 1px solid #2a2e39 !important;
}

.resize-handle {
  background-color: #2a2e39 !important;
}

.resize-handle:hover {
  background-color: #434651 !important;
}

/* Divider fixes */
.MuiDivider-root {
  border-color: #2a2e39 !important;
}

/* AppBar and Toolbar fixes */
.MuiAppBar-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

.MuiToolbar-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

/* Icon fixes */
.MuiSvgIcon-root {
  color: #d1d4dc !important;
}

/* Focus and active state fixes */
.MuiInputBase-root.Mui-focused {
  background-color: #1e222d !important;
}

.MuiButton-root.Mui-focusVisible {
  background-color: #434651 !important;
}

/* Modal and dialog fixes */
.MuiDialog-paper {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

.MuiBackdrop-root {
  background-color: rgba(19, 23, 34, 0.8) !important;
}

/* Snackbar fixes */
.MuiSnackbar-root {
  background-color: #1e222d !important;
  color: #d1d4dc !important;
}

/* Switch and slider fixes */
.MuiSwitch-root {
  color: #9aa0a6 !important;
}

.MuiSwitch-root .Mui-checked {
  color: #2196f3 !important;
}

.MuiSlider-root {
  color: #2196f3 !important;
}

/* Progress bar fixes */
.MuiLinearProgress-root {
  background-color: #2a2e39 !important;
}

.MuiLinearProgress-bar {
  background-color: #2196f3 !important;
}

/* Final aggressive fix for any remaining white backgrounds */
* {
  box-sizing: border-box;
}

/* Ensure all text elements inherit proper colors */
h1, h2, h3, h4, h5, h6, p, span, div, label {
  color: inherit !important;
}

/* CSS variables for consistent theming */
:root {
  --mui-palette-background-paper: #1e222d;
  --mui-palette-background-default: #131722;
  --mui-palette-text-primary: #d1d4dc;
  --mui-palette-text-secondary: #9aa0a6;
}
