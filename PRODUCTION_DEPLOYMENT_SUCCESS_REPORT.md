# üéâ –û–¢–ß–ï–¢ –û –£–°–ü–ï–®–ù–û–ú –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ò CHARTGENIUS –í –ü–†–û–î–ê–ö–®–ù

**–î–∞—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** 22 –∏—é–Ω—è 2025 –≥.  
**–í–µ—Ä—Å–∏—è:** 1.0.2  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Google Cloud Platform (Europe West 1)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢–û

## üìä –†–ê–ó–í–ï–†–ù–£–¢–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 1. Backend API (FastAPI)
- **URL:** https://chartgenius-api-169129692197.europe-west1.run.app
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
  - Memory: 1Gi
  - CPU: 1
  - Min instances: 0
  - Max instances: 10
  - Concurrency: 80
  - Timeout: 300s

### 2. Frontend (React)
- **URL:** https://chartgenius-frontend-169129692197.europe-west1.run.app
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
  - Memory: 512Mi
  - CPU: 1
  - Min instances: 0
  - Max instances: 5
  - Concurrency: 100
  - Timeout: 60s

### 3. Telegram Bot
- **URL:** https://chartgenius-bot-169129692197.europe-west1.run.app
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **Webhook:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
  - Memory: 1Gi
  - CPU: 1
  - Min instances: 0
  - Max instances: 1
  - Concurrency: 1
  - Timeout: 3600s

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **URL —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–º–≤–æ–ª–∞–º–∏ `\r` –≤ webhook URL
2. **Uvicorn –∑–∞–ø—É—Å–∫** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `"app:app"` –Ω–∞ –æ–±—ä–µ–∫—Ç `app`
3. **Webhook –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** - –£–±—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
4. **Localhost –≤ Dockerfile** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã health checks

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ URL –æ—Ç –Ω–µ–≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –°–æ–∑–¥–∞–Ω endpoint `/setup-webhook` –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook
- –î–æ–±–∞–≤–ª–µ–Ω endpoint `/webhook-info` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ webhook
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üöÄ –ü–†–û–¶–ï–°–° –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Cloud Build** - –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–æ–≤ (–±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É)
- **Cloud Run** - –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Secret Manager** - –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–ª—é—á–µ–π
- **Firestore** - –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
gcloud builds submit --config production/backend/cloudbuild.yaml --substitutions=_VERSION=1.0.2
gcloud builds submit --config production/frontend/cloudbuild.yaml --substitutions=_VERSION=1.0.2
gcloud builds submit --config production/bot/cloudbuild.yaml --substitutions=_VERSION=1.0.2

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
gcloud run deploy chartgenius-api --image gcr.io/chartgenius-444017/chartgenius-api:1.0.2 ...
gcloud run deploy chartgenius-frontend --image gcr.io/chartgenius-444017/chartgenius-frontend:1.0.2 ...
gcloud run deploy chartgenius-bot --image gcr.io/chartgenius-444017/chartgenius-bot:1.0.2 ...
```

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Secret Manager:
- ‚úÖ `telegram-bot-token` - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- ‚úÖ `openai-api-key` - API –∫–ª—é—á OpenAI
- ‚úÖ `jwt-secret-key` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT
- ‚úÖ `cryptocompare-api-key` - API –∫–ª—é—á CryptoCompare

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞:
- **API & Frontend:** –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (allow-unauthenticated)
- **Bot:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø (no-allow-unauthenticated) - —Ç–æ–ª—å–∫–æ –¥–ª—è webhook

## üì± TELEGRAM BOT

### Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **URL:** https://chartgenius-bot-169129692197.europe-west1.run.app/webhook
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
- **Pending updates:** 0
- **Max connections:** 40
- **IP Address:** 34.143.76.2

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/webapp` - –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ Health checks –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ API endpoints
- ‚úÖ Telegram bot –∫–æ–º–∞–Ω–¥—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram: @Chart_Genius_bot
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìà –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò

### –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º:
```bash
# –õ–æ–≥–∏ API
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=chartgenius-api"

# –õ–æ–≥–∏ Frontend
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=chartgenius-frontend"

# –õ–æ–≥–∏ Bot
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=chartgenius-bot"
```

### –ú–µ—Ç—Ä–∏–∫–∏ Cloud Run:
- –î–æ—Å—Ç—É–ø–Ω—ã –≤ Google Cloud Console
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—à–∏–±–æ–∫, —Ç—Ä–∞—Ñ–∏–∫–∞

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã
3. **Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Firestore
4. **CDN –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Cloud CDN –¥–ª—è frontend
5. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ custom domain
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- Rate limiting
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- **Telegram ID:** 299820674
- **–†–æ–ª—å:** admin –≤ —Å–∏—Å—Ç–µ–º–µ

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
- **Frontend:** https://chartgenius-frontend-169129692197.europe-west1.run.app
- **API:** https://chartgenius-api-169129692197.europe-west1.run.app
- **Bot:** @Chart_Genius_bot
- **Cloud Console:** https://console.cloud.google.com/run?project=chartgenius-444017

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

ChartGenius —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ Google Cloud Platform. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ —á–µ—Ä–µ–∑ Secret Manager. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** üü¢ –ü–†–û–î–ê–ö–®–ù –ì–û–¢–û–í
